(function(){"use strict";function e(){var e=$(".control-label").next();e.each(function(){var e=$(this);e.on("focus blur",function(o){t(e)})})}function t(e){""===e.val()&&("focus"===event.type?e.prev(".control-label").addClass("filled"):"blur"===event.type&&e.prev(".control-label").removeClass("filled"))}function o(){var e=$("#rsvp-form");e.submit(function(t){e.find(".error-msg").remove(),e.find("input").removeClass("error");var o={name:e.find("input#inputName").val(),number:e.find("input#inputNumber").val()};$.ajax({type:"POST",url:"form.php",data:o,dataType:"json",encode:!0}).done(function(e){console.log(e),e.success?($(".success-msg").html(""),$(".success-msg").html(e.message)):e.errors.name?$("#inputName").addClass("error").after('<span class="error-msg">'+e.errors.name+"</span>"):e.errors.number&&$("#inputNumber").addClass("error").after('<span class="error-msg">'+e.errors.number+"</span>")}),t.preventDefault()})}function n(){$(window).scrollTop();$(".parallax").each(function(){if($(this).is_on_screen()){var e=$(this).offset().top,t=.2*(e-r);$(this).css("transform","translateY("+t+"px)")}})}$(window).on("load",function(){$(".loader").delay(2500).fadeOut("slow");$(".grid").masonry({itemSelector:".grid-item",percentPosition:!0,columnWidth:".grid-sizer"})});var r=0;$(window).on("scroll",function(){var e=$("#navbar"),t=200;$(window).scrollTop()>=t?e.addClass("onscroll"):e.removeClass("onscroll"),r=$(this).scrollTop(),n()}),$(".navbar-nav>li>a").not(".dropdown-toggle").on("click",function(){$(".navbar-collapse").collapse("hide")}),$("#js-circle-type").length&&new CircleType(document.getElementById("js-circle-type")).radius(384);var s=function(){$(".slick-gallery")&&$(".slick-gallery").slick({centerMode:!1,dots:!1,infinite:!0,speed:300,slidesToShow:3,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,dots:!0}}]}),$(".slick-wishes")&&$(".slick-wishes").slick({dots:!0,arrows:!1}),$(".slick-gifts")&&$(".slick-gifts").slick({dots:!0,arrows:!1,slidesToShow:5,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:640,settings:{slidesToShow:1,slidesToScroll:1}}]})},i=function(){var e=$(".slick-gallery .slick-slide").not(".slick-cloned"),t=$(".slick-slide.slick-current").attr("data-slick-index");$(".gallery__slider-current").text(+t+1),$(".gallery__slider-all").text(e.length)};$(".slick").on("afterChange",i);var l=function(){function e(e){var t=Date.parse(e)-Date.parse(new Date),o=Math.floor(t/1e3%60),n=Math.floor(t/1e3/60%60),r=Math.floor(t/36e5%24),s=Math.floor(t/864e5);return{total:t,days:s,hours:r,minutes:n,seconds:o}}function t(t,o){function n(){var t=e(o),n=String(t.days).split("");i.innerHTML="";for(var s=0;s<n.length;s++)r=document.createElement("span"),r.innerHTML=n[s],i.appendChild(r);var u=String(("0"+t.hours).slice(-2)).split("");l.innerHTML="";for(s=0;s<u.length;s++)r=document.createElement("span"),r.innerHTML=u[s],l.appendChild(r);var p=String(("0"+t.minutes).slice(-2)).split("");a.innerHTML="";for(s=0;s<p.length;s++)r=document.createElement("span"),r.innerHTML=p[s],a.appendChild(r);var f=String(("0"+t.seconds).slice(-2)).split("");c.innerHTML="";for(s=0;s<f.length;s++)r=document.createElement("span"),r.innerHTML=f[s],c.appendChild(r);t.total<=0&&clearInterval(d)}var r,s=document.getElementById(t),i=s.querySelector(".days"),l=s.querySelector(".hours"),a=s.querySelector(".minutes"),c=s.querySelector(".seconds");n();var d=setInterval(n,1e3)}var o=document.querySelector(".countdown"),n="September 26 2020 18:00:00 GMT+0400",r="April 24 2021 18:00:00 GMT+0400";o&&(t("timer1",n),t("timer2",r))},a=function(){$("body").on("click touch",".page-scroll",function(e){var t=$(this);$("html, body").stop().animate({scrollTop:$(t.attr("href")).offset().top},1500,"easeInOutExpo"),e.preventDefault()})};$.fn.is_on_screen=function(){var e=$(window),t={top:e.scrollTop(),left:e.scrollLeft()};t.bottom=t.top+e.height();var o=this.offset();return o.bottom=o.top+this.outerHeight(),!(t.bottom<o.top||t.top>o.bottom)};var c=function(){if(window.document.documentMode){var e=document.querySelector(".main-hero img"),t=e.getAttribute("src"),o=$(".c-hero-banner__image");o.html('<div class="main-hero_img" style="height: 100%;width: 100%;background-position: 50%;background-size: cover;background-image: url('+t+')">')}};$(function(){s(),i(),l(),e(),a(),o(),c()})})();
